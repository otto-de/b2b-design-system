import {
  Story,
  ArgsTable,
  PRIMARY_STORY,
  Primary,
  Source,
  Canvas,
  Meta,
} from '@storybook/blocks';

import * as InputStories from './input.stories';

<Meta of={InputStories} />

# Input Component

<Canvas of={InputStories.AllPropertiesSpecified} sourceState="shown" />

### Slots

In addition to regular user input, the Input Component also provides two slots for prefixed (or suffixed) text as well as icons.
If you want to add text, please use a `<span>` tag as this will automatically add a border to separate it from the user input.

Note that it is not necessary to use B2B Icons, the slots work with any icon.

### Start

You can add an icon or prefixed text here like so:

<Canvas of={InputStories.Prefix} sourceState="shown" />

### End

You can add an icon or a suffix like so:

<Canvas of={InputStories.IconEnd} sourceState="shown" />

## Properties

### Label

This field is recommended, but not required as it can be ignored in some use cases. For example, when the solution
needs a label with a description block of text after it.

Internally the component sets the aria property `aria-labelledby` to the `name` prop of this component. When using a
custom label, remember to set that same name to the `id` of the label. For more information you can see [this link](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-labelledby).

### Required

Adds an asterisk at the end of the label to signify that the field is required. This would not perform any
validation, is just a style addition.

### Type

The `type` of the input, matching the corresponding native HTML attribute of `type`. The default value is `text`.
Other attributes supported are

- `number`
- `email`
- `tel`
- `password`
- `search`

The component **does not** support `date` or `month` types as we encourage you to use the Datepicker
Component if you need to work with dates or time.

### Placeholder

You can specify a `placeholder` string to be shown before the user enters the input element and starts typing.
It is not specified by default.

### Disabled

A boolean indicating whether or not the input element is `disabled` or `read-only`. The default value is `false`.

### Hint

An optional hint to be shown underneath the input field. It is not specified by default and will therefore not be rendered.
If there is an `error`, the hint will not be rendered until the `error` attribute is set to `undefined` or an
empty string again.

### Error

An optional error string to be shown underneath the input field. If specified, it will render the input
field with error styles and replace the `hint` text.

Per default, it is undefined and will take the error message as a string as an argument. Once the user
corrects their input, you can set it to undefined or to an empty string again.

### Autofocus

A `boolean` indicating whether or not the input element should be focused on page load.
Per default it is set to `false`.

## Events

The input component supports several different events that emit their respective native counterparts (e.g. a b2bFocus event will emit a FocusEvent).
**Per default, we recommend to use the b2bBlur event for validation.**
To see the Event Emitters in action and for usage examples in Vue and React, please refer to [our example repository](https://github.com/otto-ec/b2b-design-system/tree/beta/examples).

### b2b-input

Emits whenever the input is changed, i.e. after every keypress. It will emit all changes to the input,
which enables granular input validation and will immediately update the error state.

### b2b-focus

Emits whenever the input element has focus.

### b2b-blur

Emits whenever the input element loses focus. Use this event to validate input only after
the user leaves the input field. **This is the recommended event to hook into when doing input validation as it
prevents layout shifts. Unless you have a good use case for character-by-character validation, please use this event.**

<br />

### Form Elements Width

You can change the width of our form elements by directly applying the desired width to the component. Follow
this [quick guideline](?path=/story/guidelines-form-usage--page#form-elements-width) if you want to know more.

<br />

## Attributes

<ArgsTable story={PRIMARY_STORY} />
Changes made to the attributes in the above table will reflect in the example below:
<Primary />
