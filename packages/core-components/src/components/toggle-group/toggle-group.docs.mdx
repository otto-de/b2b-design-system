import {
  Story,
  ArgTypes,
  Primary,
  Source,
  Canvas,
  Meta,
} from '@storybook/blocks';

import dedent from 'ts-dedent';

import * as ToggleGroupStories from './toggle-group.stories';

<Meta of={ToggleGroupStories} />

# Toggle Button Group

<Canvas columns={3} withSource="open" withToolbar={false}>
  <Story id="components-interaction-toggle-button-group--story-010-default" />
</Canvas>

The Toggle Group can contain multiple individual `b2b-toggle-buttons`. They behave
like a radio button group. When an individual button is selected, the group will emit
the current value. The Toggle Group is most commonly used to switch between number of
entries per page in a table. The toggle button group is fully accessible in the same
way that regular radio groups are.

**Individual toggle buttons must have a name, a label and a value. The name binds them to the toggle
group, the label is the text displayed on the toggle button and the value is what is emitted
when the button is selected.**

<br />

## Properties

### Name

The name of the toggle group. This is required because it is used to group individual
toggle buttons together programmatically and aids accessiblity. In order to group
toggle buttons together, use the same name on all of them.

### Disabled

This disables all toggle buttons in a group. It is also possible to disable single
toggle buttons by setting their `disabled` prop individually:

```html
<b2b-toggle-button disabled="true"></b2b-toggle-button>
```

## Events

### b2b-group-change

This event is emitted whenever the current value of the toggle group changes.

```typescript
export interface ToggleButtonEventDetail {
  value: any;
}
```

# Singular Toggle Button

The `b2b-toggle-button` element must be a child of `b2b-toggle-group`. It encapsulates a radio button, so it
behaves in the same way. Any element can be programmatically selected by using the `checked` attribute.

## Properties

<Source
  language="html"
  format={false}
  code={dedent`
    <b2b-toggle-button value="abcd" label="ABCD" name="toggle-group-1"></b2b-toggle-button>
  `}
/>

### Label

The `label` of the toggle button. This is a required property. It is not the same as the `value`, which
is not shown to the user, but identifies the button within the group.

### Name

This is used to programmatically group toggle buttons together. It is required to control the state of a toggle button
group.
This is especially important for accessibility as the name groups label and toggle button together, making them
easier to navigate for screen readers.

### Checked

Whether or not the radio button is currently checked. It is initially unchecked if the property is not specified.
☝️ The group will check on render the first element if the consumer hasn't set any element as checked.

### Disabled

Whether or not the radio button is disabled. If not specified, it will not be disabled.

### Value

The radio button value. It does not have to be the same as the radio button label. When the radio button is checked,
the value gets emitted alongside the radio button's current status.

## Events

Both events fire whenever the `checked` property of the radio button component changes.

### change

Emits a native change event. This is configured to work with `v-model` from Vue.

### b2b-change

Emits a custom event called `ToggleButtonEventDetail` that contains the value of the radio button and whether or not the
radio button is currently checked.

`ToggleButtonEventDetail<T = any> {
value: T;
}`

## Attributes

<ArgTypes of={ToggleGroupStories} />
Changes made to the attributes in the above table will reflect in the example
below:
<Primary />
